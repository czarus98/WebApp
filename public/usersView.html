<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Osoby</title>
</head>
<body>
<div ng-if="ctrl.isVisible()">
    <div class="row">
        <div class="col col-sm-12">
            <table class="table table-stripped table-hover">
                <input class="form-inline" ng-change="ctrl.filterUsers()" ng-model="ctrl.limit" placeholder="Ile osób"
                       type="number"/>
                <input class="form-inline" ng-change="ctrl.filterUsers()" ng-model="ctrl.filter" placeholder="Filtruj"
                       type="text"/>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col col-sm-12">
            <table class="table table-stripped table-hover">
                <tr ng-click="ctrl.selected = -1">
                    <th>&nbsp;</th>
                    <th>Imię</th>
                    <th>Nazwisko</th>
                    <th>E-mail</th>
                    <th>Rok</th>
                    <th>Rola</th>
                </tr>
                <tr ng-class="{ 'rowSelected': ctrl.selected == $index }" ng-click="ctrl.select($index)"
                    ng-repeat="user in ctrl.users">
                    <td ng-bind="$index == ctrl.selected ? '»' : ''"></td>
                    <td ng-bind="user.firstName"></td>
                    <td ng-bind="user.lastName"></td>
                    <td ng-bind="user.email"></td>
                    <td ng-bind="user.year"></td>
                    <td ng-bind="user.role"></td>
                </tr>
            </table>
            <button class="form-inline" ng-click="ctrl.previousPage()" type="button">Poprzednia strona</button>
            <button class="form-inline" ng-click="ctrl.nextPage()" type="button">Następna strona</button>
        </div>
    </div>

    <div class="panel panel-default" ng-if="ctrl.selected >= 0">
        <div class="panel-heading">Zmień</div>
        <div class="panel-body">
            <form class="form form-inline">
                <input class="form-control" ng-model="ctrl.user.firstName" type="text"/>
                <input class="form-control" ng-model="ctrl.user.lastName" type="text"/>
                <input class="form-control" ng-model="ctrl.user.email" type="text"/>
                <input class="form-control" ng-model="ctrl.user.year" type="number"/>
                <input class="form-control" ng-model="ctrl.user.role" ng-value="'1'" type="radio">1
                <input class="form-control" ng-model="ctrl.user.role" ng-value="'2'" type="radio">2
                <input class="form-control" ng-model="ctrl.user.role" ng-value="'3'" type="radio">3
                <input class="form-control" ng-model="ctrl.user.role" ng-value="'4'" type="radio">4
                <button class="btn btn-success" ng-click="ctrl.updateData()">Zmień</button>
                <button class="btn btn-danger" ng-click="ctrl.deleteData()">Usuń</button>
            </form>
        </div>
    </div>

    <br/><br/>

    <div class="panel panel-default">
        <div class="panel-heading">Dodaj</div>
        <div class="panel-body">
            <form class="form form-inline">
                <input class="form-control" ng-model="ctrl.newUser.firstName" placeholder="Imie" type="text"/>
                <input class="form-control" ng-model="ctrl.newUser.lastName" placeholder="Nazwisko" type="text"/>
                <input class="form-control" ng-model="ctrl.newUser.email" placeholder="E-mail" type="text"/>
                <input class="form-control" ng-model="ctrl.newUser.year" placeholder="Rok urodzenia" type="number"/>
                <input class="form-control" ng-model="ctrl.newUser.role" ng-value="'1'" type="radio">1
                <input class="form-control" ng-model="ctrl.newUser.role" ng-value="'2'" type="radio">2
                <input class="form-control" ng-model="ctrl.newUser.role" ng-value="'3'" type="radio">3
                <input class="form-control" ng-model="ctrl.newUser.role" ng-value="'4'" type="radio">4
                <button class="btn btn-primary" ng-click="ctrl.insertNewData()">Utwórz</button>
            </form>
        </div>
    </div>
</div>
</body>
</html>
